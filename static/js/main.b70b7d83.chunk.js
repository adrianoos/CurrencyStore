(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(5),s=n.n(r),i=n(4),o=n.n(i),u=n(6),l=n(13),d=n(11),j=n(22),b=n.n(j),f=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("http://api.nbp.pl/api/exchangerates/tables/".concat(t));case 3:return n=e.sent,c=n.data[0].rates,a={date:n.data[0].effectiveDate,rates:c},e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),v=n(1),h=function(e){var t=e.data.date;return Object(v.jsxs)("div",{className:"Header",children:[Object(v.jsx)("h1",{children:"Currency Store"}),Object(v.jsxs)("h3",{children:["currencies exchange rates for: ",t]}),Object(v.jsx)("h4",{children:"data source: 'api.nbp.pl' values in PLN"})]})},p=n(3),O=function(e){var t=e.tableType,n=e.clearFavorites,c=Object(p.b)(),a=Object(p.c)((function(e){return e.favsDisplay}));return Object(v.jsxs)("div",{className:"Navigation",children:[a?Object(v.jsx)("button",{className:"NavButtonsFilled",onClick:function(){return c({type:"setFavs"})},children:"Favorites"}):Object(v.jsx)("button",{className:"NavButtons",onClick:function(){return c({type:"setFavs"})},children:"Favorites"}),Object(v.jsx)("button",{className:"NavButtons",onClick:function(){return n()},children:"Delete All"}),"A"===t?Object(v.jsxs)("button",{className:"NavButtons","data-testid":"toggle",onClick:function(){return c({type:"setTableType"})},children:["Table: ",Object(v.jsx)("strong",{children:"A"})]}):Object(v.jsxs)("button",{className:"NavButtons","data-testid":"toggle",onClick:function(){return c({type:"setTableType"})},children:["Table: ",Object(v.jsx)("strong",{children:"B"})]})]})},x=function(e){var t=e.data,n=e.favorites,c=e.updateFavs,a=Object(p.c)((function(e){return e.favsDisplay})),r=t.hasOwnProperty("date")?t.rates.map((function(e){return Object(v.jsx)(g,{title:e.currency,code:e.code,value:e.mid,updateFavs:c,fav:e.favs,favorites:n},e.code)})):Object(v.jsx)("h1",{children:"Loading..."}),s=n.length?n.map((function(e){return Object(v.jsx)(g,{title:e.currency,code:e.code,value:e.mid,updateFavs:c,fav:e.favs,favorites:n},e.code)})):Object(v.jsx)("h1",{children:"No items added"});return Object(v.jsx)("div",{className:"CurrenciesList",children:a?s:r})},m=n(23),N=n.n(m),y=n(7),g=function(e){var t=e.title,n=e.code,c=e.value,a=e.updateFavs,r=e.favorites,s=n.slice(0,2),i=r.some((function(e){return e.code===n}));return Object(v.jsxs)("div",{className:"CurrencyItem",children:[Object(v.jsx)(N.a,{className:"flag",code:s,height:"40"}),Object(v.jsx)("h3",{children:t}),Object(v.jsxs)("p",{children:["currency code: ",Object(v.jsx)("strong",{children:n})]}),Object(v.jsxs)("p",{children:["average rate: ",Object(v.jsx)("strong",{children:c})]}),i?Object(v.jsx)("button",{className:"favsBtn",onClick:function(){return a(n)},children:Object(v.jsx)(y.a,{className:"icon",size:32})}):Object(v.jsx)("button",{className:"favsBtn",onClick:function(){return a(n)},children:Object(v.jsx)(y.b,{className:"icon",size:32})})]})},T=(n(52),function(){var e=Object(p.c)((function(e){return e.tableType})),t=Object(c.useState)({}),n=Object(l.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(l.a)(s,2),j=i[0],b=i[1],m=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:n=t.sent,r(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){m()}),[e]);return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(h,{data:a}),Object(v.jsx)(O,{tableType:e,clearFavorites:function(){Object(d.onConfirm)({title:Object(v.jsx)("h3",{children:"Remove all favorites Items ?"}),description:Object(v.jsx)("p",{children:"This process cannot be undone."}),onSubmit:function(){b([])},onCancel:function(){}})}}),Object(v.jsx)(x,{data:a,updateFavs:function(e){var t=a.rates.findIndex((function(t){return t.code===e})),n=a.rates[t];switch(!0){case j.includes(n):Object(d.onConfirm)({title:Object(v.jsx)("h3",{children:"Remove this currency from favorites ?"}),onSubmit:function(){b(j.filter((function(e){return e.code!==n.code})))},onCancel:function(){}});break;default:b(j.concat(n))}},favorites:j})]})}),w=n(8),C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setFavs":return!e;default:return e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setTableType":return"A"===e?e="B":"B"===e&&(e="A"),e;default:return e}},k=Object(w.a)({favsDisplay:C,tableType:F}),_=Object(w.b)(k,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(p.a,{store:_,children:Object(v.jsx)(T,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.b70b7d83.chunk.js.map